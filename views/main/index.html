{% extends "common.html" %}
{% block mainLeft %}
    {% for content in cur_page_contents %}
    <div class="listBox">
        <h1>{{content.title}}</h1>
        <p class="colDefault">
            作者：<span class="colInfo">{{content.author.username.toString()}}</span> -
            时间：<span class="colInfo">{{content.addTime.toString()|date('Y年m月d日 H:i:s', -8*60)}}</span> -
            阅读：<span class="colInfo">{{content.hits}}</span> -
            评论：<span class="colInfo">{{content.comments.length}}</span>
        </p>
        <dfn><p>{{content.description}}</p></dfn>
        <div class="function"><a href="/content_detail?content_id={{content._id.toString()}}">阅读全文</a></div>
    </div>
    {% endfor %}

    <div class="pager">
        <ul class="clear">

            <li class="previous">

                {%if cur_page_num <= 1%}
                <span>没有上一页了</span>
                {%else%}
                <a href="/?category={{cur_category}}&page_num={{cur_page_num-1}}">上一页</a>
                {%endif%}

            </li>
            <!--在分页页数大于0时才显示下列信息-->
            {% if whole_paginal_num > 0 %}
            <li>
                <strong>{{ cur_page_num }} / {{ whole_paginal_num}}</strong>
            </li>
            {% endif %}
            <!--在分页页数大于0时才显示上列信息-->


            <li class="next">

                {%if cur_page_num >= whole_paginal_num%}
                <span>没有下一页了</span>
                {%else%}
                <a href="/?category={{cur_category}}&page_num={{cur_page_num+1}}">下一页</a>
                {%endif%}

            </li>

        </ul>
    </div>
{% endblock %}


